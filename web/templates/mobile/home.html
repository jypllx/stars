{% extends "_base_mobile.html" %}

{% block content %}
<div class="row">
    <h3><p class="text-center">Voice of pleasure!</p></h3>
</div>
<div class="row">
    <p class="text-center"><b>Length</b></p>
</div>
<div class="row time-filter">
    <div class="col-xs-3 time-filter-vshort"><button class="btn btn-block btn-default time-btn {% if cat_time == 0 %} active {% endif %}" value="0"><i class="fa fa-hourglass-o"></i>&nbsp;5m</button></div>
    <div class="col-xs-3 time-filter-short"><button class="btn btn-block btn-default time-btn {% if cat_time == 1 %} active {% endif %}" value="1"><i class="fa fa-hourglass-end" value="1"></i>&nbsp;20m</button></div>
    <div class="col-xs-3 time-filter-long"><button class="btn btn-block btn-default time-btn {% if cat_time == 2 %} active {% endif %}" value="2"><i class="fa fa-hourglass-half" value="2"></i>&nbsp;1h</button></div>
    <div class="col-xs-3 time-filter-vlong"><button class="btn btn-block btn-default time-btn {% if cat_time == 3 %} active {% endif %}" value="3"><i class="fa fa-hourglass-start" value="3"></i>&nbsp;+1h</button></div>
</div>
<br/>
<div class="row">
    <p class="text-center"><b>Mood</b></p>
</div>
<div class="row">
    <div class="col-xs-3"><button class="btn btn-default btn-block genre {% if genre == 'News & Politics' %} active {% endif %}" value="News & Politics">News</button></div>
    <div class="col-xs-3"><button class="btn btn-default btn-block genre {% if genre == 'Comedy' %} active {% endif %}" value="Comedy">Fun</button></div>
    <div class="col-xs-3"><button class="btn btn-default btn-block genre {% if genre == 'Society & Culture' %} active {% endif %}" value="Society & Culture">Culture</button></div>
    <div class="col-xs-3"><button class="btn btn-default btn-block genre {% if genre == 'Sports & Recreation' %} active {% endif %}" value="Sports & Recreation">Sport</button></div>
</div>
<div class="row">
    <div class="col-xs-3">
        <button class="genre btn btn-default btn-block"><i class="fa fa-play fa-2x"></i></button>
    </div>
    <div class="col-xs-9">
        <p>{{item.name}}</p>
        <p>{{item.description}}</p>
        <p><i>{{item.duration|sec2time}}</i></p>
    </div>
</div>
<div class="row">
    <div class="col-xs-3">
        <div><p class="text-center"><i class="fa fa-eye fa-2x"></i></p></div>
        <div><p class="text-center">Follow</p></div>
    </div>
    <div class="col-xs-3">
        <div><p class="text-center"><i class="fa fa-info-circle fa-2x"></i></p></div>
        <div><p class="text-center">More info</p></div>
    </div>
    <div class="col-xs-3">
        <div><p class="text-center"><i class="fa fa-forward fa-2x"></i></p></div>
        <div><p class="text-center">Next</p></div>
    </div>
    <div class="col-xs-3">
        <div><p class="text-center"><i class="fa fa-lightbulb-o fa-2x"></i></p></div>
        <div><p class="text-center">Suggestons</p></div>
    </div>
</div>
<br/>
<div class="row">
    <p class="text-center"><b>Other&nbsp;topics</b></p>
</div>
<div class="row">
    <div class="col-xs-3"><button class="btn btn-default btn-block topic">Trump</button></div>
    <div class="col-xs-3"><button class="btn btn-default btn-block topic">Cop22</button></div>
    <div class="col-xs-3"><button class="btn btn-default btn-block topic">Primaires</button></div>
    <div class="col-xs-3"><button class="btn btn-default btn-block topic">...</button></div>
</div>
</div>
{% endblock %}
{% block js %}
<script type="text/javascript">
    $(document).ready(function(){
        getCatTime = function() {
            var cat_time = $(".time-btn.active").attr("value");
            if (cat_time == undefined) {
                cat_time = '';
            }
            return cat_time;
        }
        getGenre = function() {
            var genre = $(".genre.active").attr("value");
            return genre
        }
        filter = function(cat_time, genre) {
            $.post('{{ url_for('mob_home') }}',
                {
                    cat_time:cat_time, genre:genre
                }
            );
        }


        $(".time-btn").click(function(){
            cat_time = $(this).attr("value")
            console.log('t__ time:'+cat_time+' |genre:'+getGenre())
            filter(cat_time, getGenre());
        });
        $(".genre").click(function(){
            genre = $(this).attr("value")
            console.log('g__ time:'+getCatTime()+' |genre:'+genre)
            filter(getCatTime(), genre);
        });
    });
</script>
{% endblock %}